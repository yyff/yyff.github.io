---
layout: article
title:  "POJ 2393 Yogurt factory"
categories: algorithm
---

> 贪心



### 题意

奶酪公司第i周要生产一单位的奶酪花费 C_i（每周会变化），Yucky的工厂将这些奶酪制作成Yucky Yogurt卖给客户（第i周卖Y_i个）。Yucky可以恰好购买单个星期的奶酪量制作后卖给客户，可以多买后存放（保存费用为每周S元）。求Yucky购买奶酪的最少花费。

> N： 一共算几周的最少花费

### 题解

1. 此周购买奶酪价格 减去 一周的存储费用，和上一周的购买价格比较，若大于，则说明上一周存储后的花费比此周直接购买所有奶酪价格低。
2. 用（cost[i]-S ，cost[i]-2*S...）继续和之前的周比较，找到花费最少的周



### 代码

```cpp
#include <iostream>
using namespace std;
const int MAXN = 10000000;
long long result;
int cost[MAXN];
int amount[MAXN];
int N,S;
void solve()
{
	for(int i = 0; i < N; i++)
	{
		int imin = i;
		int maxtemp = 0;
		for(int j = i - 1,k = 1; j >= 0; j--, k++)
		{
			int temp = cost[i] - k * S - cost[j]; //subtract cost in store
			if(temp > maxtemp)  //find minimum cost of week i
			{
				maxtemp = temp;
				imin = j;
			}
		}
		if(i == imin)
			result += cost[i] * amount[i];
		else
		{
			result += (i - imin) * S * amount[i] + cost[imin] * amount[i];
		}

	}
}
int main()
{
	cin>>N>>S;
	for(int i = 0 ;i < N; i++)
		cin>>cost[i]>>amount[i];
	solve();
	cout<< result <<endl;
	return 0;
}
```